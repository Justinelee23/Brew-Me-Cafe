// HTML Form (Ensure this is inside your form tag in your HTML file)
<form id="orderForm" action="https://formspree.io/f/xjkgerqg" method="POST">
    <label for="name">Full Name:</label>
    <input type="text" id="name" name="name" required>
    
    <label for="contact">Contact Number:</label>
    <input type="text" id="contact" name="contact" required>
    
    <label for="address">Delivery Address:</label>
    <textarea id="address" name="address" required></textarea>
    
    <label for="order">Order Details:</label>
    <textarea id="order" name="order" readonly></textarea>
    
    <button type="submit">Place Order</button>
</form>

// JavaScript to collect order details and send to Formspree
document.getElementById("orderForm").addEventListener("submit", function(event) {
    event.preventDefault(); // Prevent default form submission

    // Collect order details
    let orderDetails = "";
    document.querySelectorAll(".cart-item").forEach(item => {
        const name = item.querySelector(".item-name").innerText;
        const price = item.querySelector(".item-price").innerText;
        const quantity = item.querySelector(".item-quantity").value;
        orderDetails += `${name} - ${quantity} x ${price}\n`;
    });

    // Set order details in textarea
    document.getElementById("order").value = orderDetails;

    // Send form data to Formspree
    fetch("https://formspree.io/f/xjkgerqg", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            name: document.getElementById("name").value,
            contact: document.getElementById("contact").value,
            address: document.getElementById("address").value,
            order: orderDetails
        })
    }).then(response => {
        if (response.ok) {
            alert("Order placed successfully!");
            document.getElementById("orderForm").reset(); // Clear form after submission
        } else {
            alert("Failed to send order. Please try again.");
        }
    }).catch(error => {
        alert("Error submitting order: " + error);
    });
});
